<div class="hero min-h-screen bg-base-200">
  <div class="hero-content flex-col">
    <div class="text-center lg:text-left">
      <h1 class="text-5xl font-bold">Register here!</h1>
      <p class="py-6 text-xl md:text-lg">
        We will send you an e-mail to activate your account!
      </p>
    </div>
    <div class="card shrink-0 w-full max-w-sm shadow-2xl bg-base-100">
      <form
        #registerForm="ngForm"
        (ngSubmit)="
          register(registerForm.value.email, registerForm.value.password)
        "
        class="card-body"
      >
        <div class="form-control">
          <label class="label">
            <span class="label-text">Email</span>
          </label>
          <input
            #email="ngModel"
            class="input input-bordered placeholder:opacity-25"
            name="email"
            ngModel
            pattern="[A-Za-z0-9._%+\-]+@[A-Za-z0-9.\-]+\.[A-Za-z]{2,}"
            placeholder="example@fithelper.com"
            required
            type="email"
          />
          <fithelper-front-shared-alert-ui
            *ngIf="email.dirty && email.hasError('required')"
            alertType="warning"
            description="Email is required!"
          />
          <fithelper-front-shared-alert-ui
            *ngIf="email.dirty && email.hasError('pattern')"
            alertType="warning"
            description="Your input should be an email!"
          />
        </div>
        <div class="form-control">
          <label class="label">
            <span class="label-text">Password</span>
          </label>
          <input
            #password="ngModel"
            [pattern]="pwdRegex"
            autocomplete="on"
            class="input input-bordered placeholder:opacity-25"
            name="password"
            ngModel
            placeholder="Password"
            required
            type="password"
          />
          <div
            *ngIf="password?.dirty && !password?.value?.match(pwdRegex)"
            class="text-error text-sm"
          >
            <span class="mt-3 block text-neutral-content"
              >Your password should contain</span
            >
            <span *ngIf="!password?.value?.match('.*[A-Z]')" class="ml-3 block"
              >At least uppercase letter.</span
            >
            <span *ngIf="!password?.value?.match('.*[a-z]')" class="ml-3 block"
              >At least one lowercase letter.</span
            >
            <span *ngIf="!password?.value?.match('.*[0-9]')" class="ml-3 block"
              >At least one digit.</span
            >
            <span *ngIf="!password?.value?.match('.*\\W')" class="ml-3 block"
              >At least one special character.</span
            >
            <span
              *ngIf="password?.value?.match('^(.{0,7}|.{73,})$')"
              class="ml-3 block"
            >
              At least 8 characters and maximum of 72 characters.
            </span>
          </div>
          <fithelper-front-shared-alert-ui
            *ngIf="password.dirty && password.hasError('required')"
            alertType="warning"
            description="Password is required!"
          />
        </div>
        <div class="form-control mt-6">
          <button
            [disabled]="registerForm.invalid"
            class="btn btn-primary"
            type="submit"
          >
            Create my account!
          </button>
        </div>
        @if (isAccountCreated) {
        <fithelper-front-shared-alert-ui
          description="You can now check your email {{
            email.value
          }} and click on the link to activate your account!"
          alertType="success"
        />
        } @else if (isAccountCreated === false && isAccountAlreadyExists) {
        <fithelper-front-shared-alert-ui
          description="An account with this email already exists!"
          alertType="error"
        />
        } @else if (isAccountCreated === false) {
        <fithelper-front-shared-alert-ui
          description="We couldn't create your account!"
          alertType="error"
        />
        }
      </form>
    </div>
    <a [routerLink]="['../login']" class="link text-center"
      >Already have an account ?
      <span class="text-primary">Sign in here !</span></a
    >
  </div>
</div>
